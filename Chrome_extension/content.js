(()=>{"use strict";window.addEventListener("load",(()=>{let e=null,t=null,n=!0;const l=e=>document.getElementsByName(e)[0]||null,i=(e,t)=>{e&&t&&n&&chrome.runtime.sendMessage({action:"generateTOTP"},(l=>{(null==l?void 0:l.code)&&(e.value=l.code,t.click(),n=!1,setTimeout((()=>n=!0),2e3))}))};if(location.href.includes("https://access.ethz.ch/idpauthapp")){const n="com.siemens.dxa.applications.web.authn.challenging.response2";null!=(e=l("com.siemens.dxa.applications.web.authn.challenging.response"))&&setTimeout((e=>{e.matches(":-webkit-autofill")&&e.click()}),1e3,e),null!=(e=l(n))&&(t=Array.from(document.getElementsByName("Login")).find((e=>"submit"===e.getAttribute("type")&&"icon"===e.getAttribute("class"))),i(e,t))}else location.href.includes("https://idbdfedin16.ethz.ch")&&(e=document.getElementById("challengeQuestionInput"),t=document.getElementById("submitButton"),i(e,t))}))})();