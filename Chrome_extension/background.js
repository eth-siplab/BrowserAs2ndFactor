(()=>{"use strict";({994:function(){var t=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function c(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,c)}s((r=r.apply(t,e||[])).next())}))};chrome.runtime.onMessage.addListener(((e,n,r)=>{if("generateTOTP"===e.action)return chrome.storage.sync.get("totpSeed",(e=>t(void 0,void 0,void 0,(function*(){const n=yield function(e,n=30,r=6){return t(this,void 0,void 0,(function*(){const t=function(t){var e,n,r;for(e="",n="",r=0;r<t.length;)e+="ABCDEFGHIJKLMNOPQRSTUVWXYZ234567".indexOf(t.charAt(r).toUpperCase()).toString(2).padStart(5,"0"),r++;for(let t=0;t+4<=e.length;t+=4){const r=e.substr(t,4);n+=parseInt(r,2).toString(16)}return n}(e);if(!t)return console.error("Invalid Seed"),"error";const o=t.match(/.{1,2}/g);if(!o)return console.error("Invalid crypo material"),"Crypto Error";const i=new Uint8Array(o.map((t=>parseInt(t,16)))),a=yield crypto.subtle.importKey("raw",i,{name:"HMAC",hash:"SHA-1"},!1,["sign"]),c=Math.floor(Date.now()/1e3),s=Math.floor(c/n),u=new ArrayBuffer(8),d=new DataView(u);d.setUint32(4,s,!1),d.setUint32(0,0,!1);const f=yield crypto.subtle.sign("HMAC",a,u),h=new DataView(f),l=15&h.getUint8(h.byteLength-1);return((2147483647&h.getUint32(l))%Math.pow(10,r)).toString().padStart(r,"0")}))}(e.totpSeed);r({code:n})})))),!0})),chrome.runtime.onInstalled.addListener((()=>{chrome.action.openPopup()}))}})[994]()})();